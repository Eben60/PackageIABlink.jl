<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Package with a Blink</title>
  </head>
  <body>
    <p>mw19.html</p>
    <div  id="use_purpose_div">
    <form class="use_purpose_form" name="use_purpose_form" id="use_purpose_form" action="javascript:void(0)">
        <fieldset id="use_purpose_fieldset"> 
        <legend>What do you want to do? </legend>
          <div id="use_purpose_inputs_div"> 
            <input id="Project_Choice" name="Choice" value="Project" onchange="oncng(this)" type="radio"> 
            <label for="Project_Choice">Initialize a Julia project</label><br>
            <input id="LocalPackage_Choice" name="Choice" value="LocalPackage" onchange="oncng(this)" type="radio" checked> 
            <label for="LocalPackage_Choice">Initialize a package for local use</label> <br>
            <input id="RegisteredPackage_Choice" name="Choice" value="RegisteredPackage" onchange="oncng(this)" type="radio"> 
            <label for="RegisteredPackage_Choice">Initialize a package with all CI bells and Documentation whistles </label> 
           </div>
        </fieldset>
    </form>
    </div>

    <div id="general_options_div">
        <h2>General options (to be completed)</h2>        
    </div>


    <div id="default_env_div">
    <h2>What packages to install into your default environment?</h2>
      <form name="default_packages" id="deflt_pkg" action="javascript:void(0)">
        <input id="defpkg1" value="Revise" checked="checked" onchange="oncng(this)"
          type="checkbox"> <label for="defpkg1">Revise</label><br>
        <input id="defpkg2" value="Test" checked="checked" onchange="oncng(this)"
          type="checkbox"> <label for="defpkg2">Test</label><br>
        <input id="defpkg3" value="BenchmarkTools" checked="checked" onchange="oncng(this)"
          type="checkbox"> <label for="defpkg3">BenchmarkTools</label><br>
        <input id="defpkg4" value="Plots" checked="checked" onchange="oncng(this)"
          type="checkbox"> <label for="defpkg4">Plots</label><br>
        <input id="defpkg5" value="Dates" onchange="oncng(this)" type="checkbox">
        <label for="defpkg5">Dates</label><br>
        <input id="defpkg6" value="Unitful" onchange="oncng(this)" type="checkbox">
        <label for="defpkg6">Unitful</label><br>
        <input id="defpkg7" value="DataFrames" onchange="oncng(this)" type="checkbox">
        <label for="defpkg7">DataFrames</label><br>
        <input id="defpkg8" value="CSV" onchange="oncng(this)" type="checkbox">
        <label for="defpkg8">CSV</label><br>
        <input id="defpkg9" value="Makie" onchange="oncng(this)" type="checkbox">
        <label for="defpkg9">Makie</label><br>
        <input id="defpkg10" value="FileIO" onchange="oncng(this)" type="checkbox">
        <label for="defpkg10">FileIO</label><br>
        <input id="defpkg11" value="OhMyREPL" onchange="oncng(this)" type="checkbox">
        <label for="defpkg11">OhMyREPL</label><br>
      </form>
    </div>

    <div id="project_env_div">
        <h2>What packages to add to your project?</h2>
        <p class="comment">you can of course always add packages later on using <code>Pkg</code></p>
          <form name="project_packages" id="proj_pkg" action="javascript:void(0)">
            <input size="50" id="proj_pkg_1" name="project_package" value="" type="text"><br>
            <input size="50" id="proj_pkg_2" name="project_package" value="" type="text"><br>
            <input size="50" id="proj_pkg_3" name="project_package" value="" type="text">
          </form>
    </div>

 
    <div id="plugins_div">
    <h2>What PkgTemplates plugins to be executed?</h2> 
    <div class="plugin_form_div" id="plugin_form_div_ProjectFile">

      <form class="ProjectFile_form" name="ProjectFile_form" id="ProjectFile_form" action="javascript:void(0)"> 
          <input id="Use_ProjectFile" value="Use_ProjectFile" checked onchange="oncng(this)" type="checkbox"> 
          <label for="Use_ProjectFile">ProjectFile plugin </label>
          <div class="Plugin_Purpose">Creates a Project.toml.</div>
          <div class="Plugin_Inputs" id="ProjectFile_inputs" style = "display:block" >
          <input size="100" id="ProjectFile_version" name="version" value="v&quot;1.0.0-DEV&quot;" type="text">
          <div class="plugin_arg_meaning" id="argmeaning_ProjectFile_version">The initial version of created packages</div><br>
      </div>
      </form>
    </div>
    
    <div class="plugin_form_div" id="plugin_form_div_SrcDir">
    <form class="plugin_form" name="SrcDir_form" id="SrcDir_form" action="javascript:void(0)"> 
        <input id="Use_SrcDir" value="Use_SrcDir" checked onchange="oncng(this)" type="checkbox"> 
        <label for="Use_SrcDir">SrcDir plugin </label>
        <div class="Plugin_Purpose">Creates a module entrypoint.</div>
        <div class="Plugin_Inputs" id="SrcDir_inputs" style = "display:block" >
        <input size="100" id="SrcDir_file" name="file" value="~/work/PkgTemplates.jl/PkgTemplates.jl/templates/src/module.jl" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_SrcDir_file">Template file for src/PackageName.jl</div><br>
    </div>
    </form>
    </div>
    
    <div class="plugin_form_div" id="plugin_form_div_Tests">
    <form class="plugin_form" name="Tests_form" id="Tests_form" action="javascript:void(0)"> 
        <input id="Use_Tests" value="Use_Tests" checked onchange="oncng(this)" type="checkbox"> 
        <label for="Use_Tests">Tests plugin </label>
        <div class="Plugin_Purpose">Sets up testing for packages.</div>
        <div class="Plugin_Inputs" id="Tests_inputs" style = "display:block" >
        <input size="100" id="Tests_file" name="file" value="~/work/PkgTemplates.jl/PkgTemplates.jl/templates/test/runtests.jl" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Tests_file">Template file for runtests.jl</div><br>
        <input size="100" id="Tests_project" name="project" value="false" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Tests_project">Whether or not to create a new project for tests (test/Project.toml).</div><br>
    </div>
    </form>
    </div>
    
    <div class="plugin_form_div" id="plugin_form_div_Readme">
    <form class="plugin_form" name="Readme_form" id="Readme_form" action="javascript:void(0)"> 
        <input id="Use_Readme" value="Use_Readme"  onchange="oncng(this)" type="checkbox"> 
        <label for="Use_Readme">Readme plugin </label>
        <div class="Plugin_Purpose">Creates a README file that contains badges for other included plugins..</div>
        <div class="Plugin_Inputs" id="Readme_inputs" style = "display:none" >
        <input size="100" id="Readme_file" name="file" value="~/work/PkgTemplates.jl/PkgTemplates.jl/templates/README.md" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Readme_file"></div><br>
        <input size="100" id="Readme_destination" name="destination" value="README.md" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Readme_destination"></div><br>
        <input size="100" id="Readme_inline_badges" name="inline_badges" value="false" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Readme_inline_badges">Whether or not to put the badges on the same line as the package name.</div><br>
    </div>
    </form>
    </div>
    
    <div class="plugin_form_div" id="plugin_form_div_License">
    <form class="plugin_form" name="License_form" id="License_form" action="javascript:void(0)"> 
        <input id="Use_License" value="Use_License" checked onchange="oncng(this)" type="checkbox"> 
        <label for="Use_License">License plugin </label>
        <div class="Plugin_Purpose">Creates a license file.</div>
        <div class="Plugin_Inputs" id="License_inputs" style = "display:block" >
        <input size="100" id="License_name" name="name" value="MIT" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_License_name">Name of a license supported by PkgTemplates. Dropdown menu to be added here!</div><br>
        <input size="100" id="License_path" name="path" value="nothing" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_License_path">Path to a custom license file. This keyword takes priority over name.</div><br>
        <input size="100" id="License_destination" name="destination" value="LICENSE" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_License_destination">File destination, relative to the repository root. For example, &quot;LICENSE.md&quot; might be desired.</div><br>
    </div>
    </form>
    </div>
    
    <div class="plugin_form_div" id="plugin_form_div_Git">
    <form class="plugin_form" name="Git_form" id="Git_form" action="javascript:void(0)"> 
        <input id="Use_Git" value="Use_Git" checked onchange="oncng(this)" type="checkbox"> 
        <label for="Use_Git">Git plugin </label>
        <div class="Plugin_Purpose">Creates a Git repository and a .gitignore file.</div>
        <div class="Plugin_Inputs" id="Git_inputs" style = "display:block" >
        <input size="100" id="Git_ignore" name="ignore" value="" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_ignore">Patterns to add to the .gitignore</div><br>
        <input size="100" id="Git_name" name="name" value="nothing" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_name">Your real name, if you have not set user.name with Git.</div><br>
        <input size="100" id="Git_email" name="email" value="nothing" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_email">Your email address, if you have not set user.email with Git.</div><br>
        <input size="100" id="Git_branch" name="branch" value="LibGit2.getconfig(&quot;init.defaultBranch&quot;, &quot;main&quot;)" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_branch">The desired name of the repository's default branch.</div><br>
        <input size="100" id="Git_ssh" name="ssh" value="false" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_ssh">Whether or not to use SSH for the remote. If left unset, HTTPS is used.</div><br>
        <input size="100" id="Git_jl" name="jl" value="true" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_jl">Whether or not to add a .jl suffix to the remote URL.</div><br>
        <input size="100" id="Git_manifest" name="manifest" value="false" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_manifest">Whether or not to commit Manifest.toml.</div><br>
        <input size="100" id="Git_gpgsign" name="gpgsign" value="false" type="text">
        <div class="plugin_arg_meaning" id="argmeaning_Git_gpgsign">Whether or not to sign commits with your GPG key. This option requires that the Git CLI is installed, and for you to have a GPG key associated with your committer identity.</div><br>
    </div>
    </form>
    </div>
    </div>
 
    <div id="submit_div">
    <form class="submit_form" name="submit_form" id="submit_form" action="javascript:void(0)">
    <input id="save_defaults" value="save_defaults" onchange="oncng(this)" type="checkbox">
    <label for="save_defaults" >Save choices as default if applicable</label><br>
    <button type="submit" id="subm1" value="submit1" onclick="sendfullstate(true)">Submit</button>
    </form>
    </div>

    <script>

        function oncng(el) {
            sendel(el, "newinput");
        };

        function sendel(el, reason) {
            var elid = el.id;
            var elval = el.value;
            var elchecked = null
            var eltype = el.tagName.toLowerCase()
            if ("checked" in el) {elchecked = el.checked}
            var parentformid = parentForm_Id(el)
            Blink.msg("change", {reason: reason, elid: elid, elval: elval, elchecked: elchecked, parentformid: parentformid, eltype: eltype});
            // alert(el.id + " " + reason)
        };

        function parentForm_Id(el) {
          var parent = el.parentElement;
          var parenttype = parent.tagName;
          if (parenttype == null) {
            return null;
          } else {
            parenttype = parenttype.toLowerCase()
          };
          if (parenttype == "form") {
            return parent.id
          } else {
            return parentForm_Id(parent)
          };
        };
        
        function sendfullstate(isfinalstate){
            // alert("sending full state")
            var reasoneach;
            var reasonfinl;
            if (isfinalstate) {
                //alert("finishing")
                reasoneach ="finalinput"
                reasonfinl ="finalinputfinished"
           } else {
                reasoneach ="init_input"
                reasonfinl ="init_inputfinished"            
           }

            inps = document.querySelectorAll("input");
            for (el of inps) {
                sendel(el, reasoneach) ;
          };
          Blink.msg("change", {reason: reasonfinl});

          return null;
        };

      </script>
    
  </body>
</html>

<html> 
  <head>
    <title>Package with a Blink</title> 
  </head>

  <body> 
    <p>mws14.html</p>
    <h1>What packages to install into default environment?</h1>
    <div id="box02" >
      <form name="default_packages" id="deflt_pkg" action="javascript:void(0)">
        <input type="checkbox" id="defpkg1" value="Revise" checked onchange="oncng(this)"> 
        <label for="defpkg1">Revise</label><br>

        <input type="checkbox" id="defpkg2" value="Test" checked onchange="oncng(this)"> 
        <label for="defpkg2">Test</label><br>

        <input type="checkbox" id="defpkg3" value="BenchmarkTools" checked onchange="oncng(this)"> 
        <label for="defpkg3">BenchmarkTools</label><br>

        <input type="checkbox" id="defpkg4" value="Plots" checked onchange="oncng(this)"> 
        <label for="defpkg4">Plots</label><br>
        
        <input type="checkbox" id="defpkg5" value="Dates" onchange="oncng(this)"> 
        <label for="defpkg5">Dates</label><br>
        
        <input type="checkbox" id="defpkg6" value="Unitful" onchange="oncng(this)"> 
        <label for="defpkg6">Unitful</label><br>
 
        <input type="checkbox" id="defpkg7" value="DataFrames" onchange="oncng(this)"> 
        <label for="defpkg7">DataFrames</label><br>

        <input type="checkbox" id="defpkg8" value="CSV" onchange="oncng(this)"> 
        <label for="defpkg8">CSV</label><br>
        
        <input type="checkbox" id="defpkg9" value="Makie" onchange="oncng(this)"> 
        <label for="defpkg9">Makie</label><br>
        
        <input type="checkbox" id="defpkg10" value="FileIO" onchange="oncng(this)"> 
        <label for="defpkg10">FileIO</label><br>
        
      </form>

    </div>
    <p>after</p>

    <form name="pref_contact" id="form_2" action="javascript:void(0)">
      <fieldset id="fset2">
        <legend>Please select your preferred contact method:</legend>
        <div id="box03">
          <input type="radio" id="contactChoice1" name="contact" value="email" checked onchange="oncng(this)"/>
          <label for="contactChoice1">Email</label>
          <input type="radio" id="contactChoice2" name="contact" value="phone" onchange="oncng(this)"/>
          <label for="contactChoice2">Phone</label>
          <input type="radio" id="contactChoice3" name="contact" value="mail" onchange="oncng(this)"/>
          <label for="contactChoice3">Mail</label>
        </div>
        <div>
          <!-- <button type="submit" id="subm1" value="submit1" onclick="oncng(this)">Submit</button> -->

        </div>
      </fieldset>
    </form>

    <script>

        function oncng(el) {
            sendel(el, "newinput");
        };

        function sendel(el, reason) {
            elid = el.id;
            elval = el.value;
            elchecked = null
            eltype = el.tagName.toLowerCase()
            if ("checked" in el) {elchecked = el.checked}
            parentformid = parentForm_Id(el)
            Blink.msg("change", {reason: reason, elid: elid, elval: elval, elchecked: elchecked, parentformid: parentformid, eltype: eltype});
            // alert(el.id + " " + reason)
        };

        function parentForm_Id(el) {
          parent = el.parentElement;
          parenttype = parent.tagName;
          if (parenttype == null) {
            return null;
          } else {
            parenttype = parenttype.toLowerCase()
          };
          if (parenttype == "form") {
            return parent.id
          } else {
            return parentForm_Id(parent)
          };
        };

        function sendinitstate(){
            inps = document.querySelectorAll("input");
            for (el of inps) {
                sendel(el, "init_input") ;
          };
          Blink.msg("change", {reason: "init_inputfinished"});

          return null;
        };

      </script>   
  
  </body>
</html>